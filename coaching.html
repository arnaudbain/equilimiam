<!DOCTYPE html>  
<html lang="fr">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Coaching | Equilimiam</title>  
    <link rel="stylesheet" href="style.css">  
</head>  
<body>  
&nbsp;  
<nav class="navbar">  
    <div class="logo-container">  
        <img src="assets/equilimiam.jpg" alt="Logo Equilimiam">  
    </div>  
    <ul class="nav-links">  
        <li><a href="index.html">Accueil</a></li>  
        <li><a href="blog.html">Blog</a></li>  
        <li><a href="coaching.html">Coaching</a></li>  
        <li><a href="propos.html">À Propos</a></li>  
        <li><a href="soins.html">Soins</a></li>  
    </ul>  
</nav>  
&nbsp;  
<header class="hero-section">  
    <div class="hero-text">  
        <h1>Un accompagnement   
sur-mesure.</h1>  
        <p>Sport, Nutrition et Mental : je vous coache pour atteindre vos objectifs durablement.</p>  
    </div>  
    <div class="hero-form-card">  
        <h3>Bilan Offert</h3>  
        <p>Analysez vos besoins avec mon IA Limova avant notre échange.</p>  
        <button class="btn-main" onclick="openLimovaChat()" style="width:100%; cursor:pointer; border:none;">  
            DÉMARRER MON BILAN  
        </button>  
    </div>  
</header>  
&nbsp;  
<section class="section-white">  
    <div style="max-width:800px; margin: 0 auto; text-align: left;">  
        <h2>Le Suivi Holistique</h2>  
        <p>Mon approche ne se limite pas à vous donner des exercices. Nous travaillons sur vos blocages psychologiques et votre relation à l'alimentation pour des résultats qui durent toute la vie.</p>  
        <ul style="list-style: none; padding: 0;">  
            <li>✅ Programme sportif adapté à votre âge.</li>  
            <li>✅ Rééquilibrage alimentaire sans frustration.</li>  
            <li>✅ Gestion du stress et du sommeil.</li>  
        </ul>  
    </div>  
</section>  
&nbsp;  
<footer class="site-footer">  
    <img src="assets/equilimiam.jpg" alt="Logo Footer" class="footer-logo">  
    <p>&copy; 2026 Equilimiam - <a href="mentions.html">Mentions Légales</a></p>  
</footer>  
&nbsp;  
<!-- Widget Limova avec Fallback Intelligent -->  
<script>  
let limovaIframe = null;  
let widgetLoaded = false;  
&nbsp;  
document.addEventListener("DOMContentLoaded", () => {  
  const iframe = document.createElement("iframe");  
  iframe.src = "https://limova-web-sltj.onrender.com/embededChatbot?connectionId=c958d86d-c5d2-4d63-b5cd-b28a6c012c72";  
  iframe.id = "limova-chatbot-iframe";  
    
  const isMobile = window.innerWidth < 768;  
  const openWidth = isMobile ? "90%" : "420px";  
  const openHeight = isMobile ? "calc(100vh - 100px)" : "600px";  
  const closedWidth = "70px";  
  const closedHeight = "70px";  
  const right = isMobile ? "5%" : "30px";  
    
  Object.assign(iframe.style, {  
    position: "fixed",  
    bottom: "20px",  
    right: right,  
    border: "none",  
    zIndex: "1000",  
    width: closedWidth,  
    height: closedHeight,  
    borderRadius: "35px",  
    transition: "width 0.3s ease, height 0.3s ease, border-radius 0.3s ease",  
    boxShadow: "0 4px 12px rgba(0, 0, 0, 0.15)",  
    overflow: "hidden"  
  });  
    
  // Détection du chargement  
  iframe.onload = function() {  
    widgetLoaded = true;  
    console.log("✅ Widget Limova chargé");  
  };  
    
  iframe.onerror = function() {  
    console.error("❌ Erreur chargement widget");  
    widgetLoaded = false;  
  };  
    
  document.body.appendChild(iframe);  
  limovaIframe = iframe;  
    
  // Gestion des messages du widget  
  window.addEventListener("message", function(event) {  
    const data = event.data;  
    if (data && typeof data === "object" && "chatbotOpen" in data) {  
      widgetLoaded = true; // Si on reçoit des messages, le widget fonctionne  
      if (data.chatbotOpen === true) {  
        iframe.style.width = openWidth;  
        iframe.style.height = openHeight;  
        iframe.style.borderRadius = "10px";  
      } else if (data.chatbotOpen === false) {  
        iframe.style.width = closedWidth;  
        iframe.style.height = closedHeight;  
        iframe.style.borderRadius = "35px";  
      }  
    }  
  });  
    
  // Fonction d'ouverture avec fallback intelligent  
  window.openLimovaChat = function() {  
    if (limovaIframe) {  
      // Essaie d'ouvrir le widget  
      try {  
        limovaIframe.contentWindow.postMessage({ action: "openChat" }, "*");  
        limovaIframe.style.width = openWidth;  
        limovaIframe.style.height = openHeight;  
        limovaIframe.style.borderRadius = "10px";  
      } catch (e) {  
        console.error("Erreur ouverture widget:", e);  
      }  
        
      // Si après 1 seconde le widget n'a pas répondu, ouvre en popup  
      setTimeout(function() {  
        if (!widgetLoaded) {  
          console.log("⚠️ Widget non disponible, ouverture en popup");  
          window.open(  
            'https://new.limova.ai/autonomous-agents/fbab6092-35b5-4ae7-aa22-fdbc4bf6bc5b',  
            'LimovaChat',  
            'width=450,height=700,resizable=yes,scrollbars=yes'  
          );  
        }  
      }, 1000);  
    }  
  };  
});  
</script>  
&nbsp;  
</body>  
</html>  
